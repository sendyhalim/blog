<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Sendy Halim">
		<meta name="description" content="Sendy Halim's blog">
    <title>Customizing UISearchBar Search Icon</title>
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../../assets/css/default.css" />
    <link rel="stylesheet" type="text/css" href="../../../assets/css/navigation.css" />
    <link rel="stylesheet" type="text/css" href="../../../assets/css/highlight-js.css" />
    <link rel="stylesheet" type="text/css" href="../../../assets/css/image.css" />
    <link rel="stylesheet" type="text/css" href="../../../assets/css/post.css" />
  </head>

  <!-- Global Site Tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-80328765-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-80328765-1');
  </script>

  <body>
    <div id="content">
      <nav>
  <a href="../../../">
    <span class="arrow">←</span> Home
  </a>
</nav>



<div class="post">
  <h1 class="title">Customizing UISearchBar Search Icon</h1>

  <div class="headline">
    <div>
      Feb 09, 2018
    </div>
    <div>
      <a href="../../../tags/swift/">swift</a>, <a href="../../../tags/uiview/">uiview</a>, <a href="../../../tags/uisearchbar/">uisearchbar</a>
    </div>
  </div>

  <div class="post-body">
    <p>Sometimes we want to customize the search icon of a <code>UISearchBar</code> for iOS, one way to do this is by creating a subclass of <code>UISearchBar</code> and customize the search icon inside its <code>willMove(toSuperView:)</code> method.</p>
<p>I had 2 tasks:</p>
<ul>
<li>Set border radius for <code>UISearchBar</code></li>
<li>Set custom search icon for <code>UISearchBar</code></li>
</ul>
<h2 id="initial-state">Initial State</h2>
<p>First, we need to subclass <code>UISearchBar</code>, let’s create one</p>
<pre class="swift"><code>import UIKit

class SearchBar: UISearchBar {
  override func willMove(toSuperview newSuperview: UIView?) {
    super.willMove(toSuperview: newSuperview)

    // We'll fill this later~
  }
}</code></pre>
<p>Then set your search bar class to <code>SearchBar</code></p>
<p class="image-container">
<img src="../../../assets/images/swift/customizing-uisearchbar-search-icon/interface-builder-search-bar.png" alt="Customizing UISearchBar Icon Interface Builder Search Bar" class="medium-size">
</p>
<p>Let’s take a look at our initial state, our <code>SearchBar</code> should look like this</p>
<p class="image-container">
<img src="../../../assets/images/swift/customizing-uisearchbar-search-icon/initial-state.png" alt="Customizing UISearchBar Icon Initial State" class="medium-size">
</p>
<h2 id="uisearchbar-minimal-style">UISearchBar Minimal Style</h2>
<p><code>UISearchBar</code> has <code>searchBarStyle</code> property, we’ll set that with <code>UISearchBarStyle.minimal</code>, this tells <code>UISearchBar</code> to remove its background</p>
<pre class="swift"><code>override func willMove(toSuperview newSuperview: UIView?) {
  super.willMove(toSuperview: newSuperview)

  searchBarStyle = UISearchBarStyle.minimal
}</code></pre>
<p class="image-container">
<img src="../../../assets/images/swift/customizing-uisearchbar-search-icon/minimal.png" alt="Customizing UISearchBar Icon Minimal" class="medium-size">
</p>
<h2 id="borderless-uisearchbar">Borderless UISearchBar</h2>
<p>Next, we’ll remove text field border and set some styling</p>
<pre class="swift"><code>override func willMove(toSuperview newSuperview: UIView?) {
  super.willMove(toSuperview: newSuperview)

  searchBarStyle = UISearchBarStyle.minimal

  // Configure text field
  let textField = value(forKey: &quot;_searchField&quot;) as! UITextField

  // This will remove the border style, we need to do this
  // in order to configure border style through `textField.layer`
  // otherwise we'll have 2 borders.
  // You can remove `textField.borderStyle = .none` to see it yourself.
  textField.borderStyle = .none
  textField.backgroundColor = UIColor(hex: &quot;#F7F7F7&quot;)
  textField.clipsToBounds = true
  textField.layer.cornerRadius = 6.0
  textField.layer.borderWidth = 1.0
  textField.layer.borderColor = textField.backgroundColor!.cgColor
  textField.textColor = UIColor(hex: &quot;#555555&quot;)
}</code></pre>
<p class="image-container">
<img src="../../../assets/images/swift/customizing-uisearchbar-search-icon/borderless.png" alt="Customizing UISearchBar Icon Borderless" class="medium-size">
</p>
<h2 id="customizing-search-icon">Customizing Search Icon</h2>
<p>Now we need to customize the search icon</p>
<pre class="swift"><code>override func willMove(toSuperview newSuperview: UIView?) {
  super.willMove(toSuperview: newSuperview)

  searchBarStyle = .minimal

  // Create search icon.
  let searchIcon = UIImageView(image: &lt;your search icon goes here&gt;)
  let searchImageSize = searchIcon.image!.size

  // I'm adding some padding to the image
  searchIcon.frame = CGRect(
    x: 0,
    y: 0,
    width: searchImageSize.width + 10,
    height: searchImageSize.height
  )

  // Default value is `UIViewContentMode.scaleToFill`,
  // it'll stretch the search icon, we don't want that,
  // we want to center the search icon instead.
  searchIcon.contentMode = UIViewContentMode.center

  // Configure text field
  let textField = value(forKey: &quot;_searchField&quot;) as! UITextField
  textField.leftView = searchIcon
  textField.borderStyle = .none
  textField.backgroundColor = UIColor(hex: &quot;#F7F7F7&quot;)
  textField.clipsToBounds = true
  textField.layer.cornerRadius = 6.0
  textField.layer.borderWidth = 1.0
  textField.layer.borderColor = textField.backgroundColor!.cgColor
  textField.textColor = UIColor(hex: &quot;#555555&quot;)
}</code></pre>
<p>The end result should look like this</p>
<p class="image-container">
<img src="../../../assets/images/swift/customizing-uisearchbar-search-icon/end-result.png" alt="Customizing UISearchBar Icon End Result" class="medium-size">
</p>
<p>You can find the full code <a href="https://github.com/sendyhalim/iYomu/blob/master/Yomu/Common/SearchBar.swift" target="_blank">here</a></p>
  </div>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'wavvel'; // Required - Replace '<example>' with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

    </div>

    <footer id="footer">
      <p class="small">
        © Copyright 2017 Sendy Halim
      </p>
    </footer>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js" type="text/javascript"></script>
    <script src="../../../assets/js/highlight.js" type="text/javascript"></script>
    <script type="text/javascript">
      hljs.initHighlightingOnLoad();
    </script>
  </body>
</html>
