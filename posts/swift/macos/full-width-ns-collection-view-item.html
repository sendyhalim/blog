<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Sendy Halim">
		<meta name="description" content="Sendy Halim's blog">
    <title>Make NSCollectionViewItem Responsive Width and Height</title>
    <link rel="stylesheet" type="text/css" href="../../../assets/css/default.css" />
    <link rel="stylesheet" type="text/css" href="../../../assets/css/navigation.css" />
    <link rel="stylesheet" type="text/css" href="../../../assets/css/highlight-js.css" />
    <link rel="stylesheet" type="text/css" href="../../../assets/css/image.css" />
    <link rel="stylesheet" type="text/css" href="../../../assets/css/post.css" />
  </head>
  <body>
    <div id="content">
      <nav>
  <a href="../../../">
    <span class="arrow">‚Üê</span> Home
  </a>
</nav>



<div class="post">
  <h1>Make NSCollectionViewItem Responsive Width and Height</h1>


  <h6 class="headline">
    Posted on March  4, 2017
    <div>
      Tags: <a href="../../../tags/swift.html">swift</a>, <a href="../../../tags/nscollectionview.html">nscollectionview</a>, <a href="../../../tags/nscollectionviewitem.html">nscollectionviewitem</a>, <a href="../../../tags/appkit.html">appkit</a>
    </div>
  </h6>

  <div class="post-body">
    <p>I had a hard time figuring out how to make <code>NSCollectionViewItem</code> width to be responsive. The problem was that I wanted my <code>NSCollectionViewItem</code> to follow its parent width. Maybe I didn‚Äôt google the right keywords, I didn‚Äôt find any solution on the internet. I found the solution after reading <code>NSCollectionViewDelegateFlowLayout</code>, it wasn‚Äôt straight forward. When the window is resized, <code>NSCollectionView</code> will follow the its parent width by default, but not the cells inside it. Turns out that we need to invalidate the cells layout manually and tell <code>NSCollectionViewDelegateFlowLayout</code> our cells preferred size.</p>
<pre class="swift"><code>extension MyCollectionViewController: NSCollectionViewDelegateFlowLayout {
  func collectionView(
    _ collectionView: NSCollectionView,
    layout collectionViewLayout: NSCollectionViewLayout,
    sizeForItemAt indexPath: IndexPath
  ) -&gt; NSSize {
    // Here we're telling that we want our cell width to
    // be equal to our collection view width
    // and height equals to 70
    return CGSize(width: collectionView.bounds.width, height: 70)
  }
}</code></pre>
<p>There‚Äôs one catch here, remember we need to invalidate the cells layout manually</p>
<pre><code>class MyCollectionViewController: NSViewController {
  @IBOutlet weak var collectionView: NSCollectionView!

  // This method will be called everytime window is resized
  override func viewWillLayout() {
    super.viewWillLayout()

    // When we're invalidating the collection view layout
    // it will call `collectionView(_:layout:sizeForItemAt:)` method
    collectionView.collectionViewLayout?.invalidateLayout()
  }
}</code></pre>
<p>There it is, hope it helps üç™</p>
  </div>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'wavvel'; // Required - Replace '<example>' with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

    </div>

    <footer id="footer">
      <p class="small">
        ¬© Copyright 2017 Sendy Halim
      </p>
    </footer>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js" type="text/javascript"></script>
    <script src="../../../assets/js/highlight.js" type="text/javascript"></script>
    <script type="text/javascript">
      hljs.initHighlightingOnLoad();
    </script>
  </body>
</html>
